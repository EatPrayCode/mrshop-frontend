<div class="customise-container">

  <div class="customize-pack-container">

    <h2>My List</h2>

    <form [formGroup]="form" class="form-wraper">

      <div class="pack-config-wrapper flex-row">
        <mat-form-field class="pack-field">
          <mat-select (ngModelChange)="changePackTemplate($event)" formControlName="packTemplate"
            placeholder="Pack Template">
            <mat-option *ngFor="let packTemplate of form.controls.packTemplates?.value" [value]="packTemplate">
              {{ packTemplate.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="pack-field">
          <mat-select (ngModelChange)="changePackTemplate($event)" formControlName="packTemplate"
            placeholder="Pack Template">
            <mat-option *ngFor="let packTemplate of form.controls.packTemplates?.value" [value]="packTemplate">
              {{ packTemplate.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="pack-field">
          <mat-select (ngModelChange)="changePackSize($event)" placeholder="Pack Size" formControlName="packSize">
            <mat-option *ngFor="let size of form.controls.packSizes?.value" [value]="size">
              {{ size.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="table-container-scroll">

        <div formArrayName="items" class="flex-row" *ngFor="
            let items of form.controls.items?.value;
            let i = index;
            trackBy: trackFn
          ">

          <div [formGroupName]="i" class="table-container">
            <mat-card class="example-card">
              <mat-card-header>
                <img
                  src="https://www.freakyjolly.com/wp-content/uploads/2021/07/cropped-cropped-fj-logo-192-removebg-preview-e1625997712615-1.png"
                  mat-card-avatar />
                <mat-card-title>
                  {{(form.controls.items?.value)[i].name}}
                </mat-card-title>

                <mat-card-subtitle>
                  Pack Description
                </mat-card-subtitle>
              </mat-card-header>

              <mat-card-content>
                <div fxLayout="column">
                  <!-- Column-1 -->
                  <div fxLayout="row" fxFlex="50px" style="background-color: #74edfd" fxLayoutAlign="center center">
                    column1</div>
                  <!-- Column-2 -->
                  <div fxLayout="row" style="height: 75px">
                    <!-- Column-2 Row-1-->
                    <div fxLayout="column" fxFlex="40" fxFlexFill style="background-color: #fd7474"
                      fxLayoutAlign="space-between strech">
                      <div fxLayout="row" fxFlex="20px" style="background-color: #ffa1a1" fxLayoutAlign="center center">
                        column2-1 row1</div>
                      <div fxLayout="row" fxFlex="20px" style="background-color: #ffa1a1" fxLayoutAlign="center center">
                        column2-2 row1</div>
                      <div fxLayout="row" fxFlex="20px" style="background-color: #ffa1a1" fxLayoutAlign="center center">
                        column2-3 row1</div>
                    </div>
                    <!-- Column-2 Row-2-->
                    <div fxLayout="column" fxFlex="60" fxFlexFill style="background-color: #e8fd74"
                      fxLayoutAlign="space-around strech">
                      <div fxFlex="30" style="background-color: #f1fac0" fxLayoutAlign="center center">column2, row2-1
                      </div>
                      <div fxFlex="30" style="background-color: #f1fac0" fxLayoutAlign="center center">column2, row2-2
                      </div>
                      <div fxFlex="30" style="background-color: #f1fac0" fxLayoutAlign="center center">column2, row2-3
                      </div>
                    </div>
                  </div>
                  <!-- Column-3 -->
                  <div fxLayout="row" style="height: 75px; background-color: #74fd86">
                    <div fxFlex="80" style="background-color: #b5ffbf" fxLayoutAlign="center center">column3 row2</div>
                    <div fxFlex="80" style="background-color: #74edfd" fxLayoutAlign="center center">column3 row2</div>
                  </div>
                </div>
              </mat-card-content>

              <!-- <mat-card-content>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore
                  et dolore
                  magna aliqua.
                </p>

                <mat-grid-list cols="4" rowHeight="100px">
                  <mat-grid-tile *ngFor="let tile of tiles" [colspan]="tile.cols" [rowspan]="tile.rows"
                    [style.background]="tile.color">

                    <input type="checkbox" (change)="changeCheckbox($event, i)" formControlName="isChecked" />
                    Item Description

                    <mat-form-field class="language-field">
                      <mat-select (ngModelChange)="changeBrand($event, i)" formControlName="brand" placeholder="Brand">
                        <mat-option *ngFor="
                            let brand of (form.controls.items?.value)[i].brandsList
                          " [value]="brand">
                          {{ brand.value }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>

                    <mat-form-field class="language-field">
                      <mat-select (ngModelChange)="changeVariant($event, i)" formControlName="variant"
                        placeholder="Variant">
                        <mat-option *ngFor="
                            let variant of (form.controls.items?.value)[i].brand
                              ?.variantsList
                          " [value]="variant">
                          {{ variant.value }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>

                    <mat-form-field class="language-field">
                      <mat-select (ngModelChange)="doSomething($event)" placeholder="Budget">
                        <mat-option *ngFor="let language of languages" [value]="language">
                          {{ language.viewValue }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>

                    <mat-form-field class="language-field">
                      <mat-select (ngModelChange)="changeQuantity($event, i)" formControlName="quantity"
                        placeholder="Quantity">
                        <mat-option *ngFor="
                            let quantity of (form.controls.items?.value)[i]
                              .quantityList
                          " [value]="quantity">
                          {{ quantity.value }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>

                    Price Per Item
                    <input formControlName="pricePerItem" />

                    Total Price Per Item
                    <input formControlName="totalPricePerItem" />

                    <input type="checkbox" (change)="toggleBrandless($event, i)" formControlName="isBrandless" />
                    Brandless

                    <mat-form-field appearance="fill">
                      <mat-label>Choose Days</mat-label>
                      <input matInput [matDatepicker]="picker" />
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                  </mat-grid-tile>
                </mat-grid-list>
              </mat-card-content> -->

              <mat-card-actions>
                <button mat-raised-button color="accent">LIKE</button>
                <button mat-raised-button color="primary">
                  <i class="fa fa-trash"></i>
                </button>
              </mat-card-actions>
            </mat-card>

          </div>

        </div>

      </div>

    </form>

    <div class="pack-summary flex-column">
      <!-- <input formControlName="packTotal"> -->
      <div class="summary flex-row">
        <div class="summary-content">Pack total : $10000</div>
        <div class="summary-content">Total count: 56456599</div>
      </div>
      <div class="summary flex-row">
        <div class="summary-content">Savings : $10000</div>
        <div class="summary-content">Savings : $10000</div>
      </div>
    </div>

  </div>

  <!-- {{form.controls.packTemplate?.value|json}} -->

</div>